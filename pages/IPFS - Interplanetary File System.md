tags:: distributed-network, content-addressing, file-system, ipfs

- category:: [[computer-science]]
- # IPFS
	- Open protocols for addressing, routing, and transferring data on the web, built on the ideas of content addressing and peer-to-peer networking.
	- ## Defining IPFS
		- An implementation of IPFS protocol [specifications](https://github.com/ipfs/specs)[](https://github.com/ipfs/specs) [(opens new window)](https://github.com/ipfs/specs), such as Kubo. Learn more about [the principles that define an IPFS implementation](https://docs.ipfs.tech/concepts/implementations/).
		- A decentralized network composed of IPFS nodes that is open and participatory.
		- A modular suite of protocols and standards for organizing and transferring content-addressed data.
	- ## What IPFS Isn't
		- A _storage provider_: While there are storage providers built with IPFS support (typically known as _pinning services_), IPFS itself is a protocol, not a provider.
		- _A cloud service provider_: IPFS can be deployed on and complement cloud infrastructure, but it in of itself is not a cloud service provider.
	- ## Problems IPFS Solves
		- ### Verifiability
			- IPFS uses cryptographic hashes to verify the authenticity and integrity of files, making it difficult for malicious actors to tamper with or delete files
		- ### Resiliance
			- IPFS has no single point of failure, and users do not need to trust each other. In other words, the failure of a single or even multiple nodes in the network does not affect the functioning of the entire network, and an IPFS node can fetch data from the network as long as at least one other node in the network has that data, regardless of its location
		- ### Centralization
			- PFS is an open, distributed and participatory network that reduces data silos from centralized servers, making IPFS more resilient than traditional systems. No single entity or person controls, manages or owns IPFS; rather, it is a community-maintained project with multiple implementations of the protocol, multiple tools and apps leveraging that protocol, and multiple users and organizations contributing to its design and development
		- ### Performance
			- IPFS provides faster access to data by enabling it to be replicated to and retrieved from multiple locations, and allowing users to access data from the nearest location using content addressing instead of location-based addressing. In other words, because data can be addressed based on its contents, a node on the network can fetch that data from _any_ other node in the network that has the data; thus, performance issues like latency are reduced.
		- ### Link Rot
			- IPFS eliminates the problem of link rot by allowing data to be addressed by its content, rather than by its location. So, in other words, content in IPFS is still reachable regardless of its location, and does not depend on specific servers being available
		- ### Data Sovereignty
			- IPFS protects data sovereignty by enabling users to store and access data directly on a decentralized network of nodes, rather than centralized, third-party servers. This eliminates the need for intermediaries to control and manage data, giving users full control and ownership over their data
		- ## Off-chain storage
			- IPFS enables verifiable off-chain storage by creating a link between blockchain state and content-addressed published to IPFS. This works by storing a Content IDentifier (CID) (explained in [How IPFS works](https://docs.ipfs.tech/concepts/how-ipfs-works/#content-identifier-cid)) in a smart contract.
		- ## Local-first software
			- IPFS benefits local-first software by providing a performant, decentralized, peer-to-peer data addressing, routing, and transfer protocol that prioritizes data storage and processing on individual devices. With IPFS, data can be stored, verified and processed locally, and then synchronized and shared with other IPFS nodes when a network connection is available.
		- ## Vendor lock-in
			- IPFS prevents vendor lock-in , as users have sovereignty over their data and infrastructure. This is enabled by content-addressing, which decouples the data from a single location or infrastructure provider. Unlike traditional cloud vendors, IPFS enables you to change data storage locations without changing things like APIs and data management. In addition, because IPFS is open-source, community-maintained and modular, users are not obligated to use a particular subsystem (described in [How IPFS works](https://docs.ipfs.tech/concepts/how-ipfs-works/)). Instead, users can customize IPFS for their preferred technologies, needs and values
- # How IPFS Works
	- ## Subsystems Overview
		- All IPFS subsystems, ordered by purpose, are listed below, with links to the major subsystems discussed in this guide.
		- | Purpose | Subsystem |
		  | --- | --- |
		  | Representing and organizing the data | [CIDs](https://docs.ipfs.tech/concepts/how-ipfs-works/#content-identifier-cid), [IPLD, UnixFS](https://docs.ipfs.tech/concepts/how-ipfs-works/#interplanetary-linked-data-ipld), MFS, DAG-CBOR, DAG-JSON, [CAR files](https://docs.ipfs.tech/concepts/how-ipfs-works/#content-addressable-archive-car-files) |
		  | Content routing, linking between CID and IP addresses | [Kademlia DHT](https://docs.ipfs.tech/concepts/how-ipfs-works/#kademlia-distributed-hash-table-dht), [Delegated routing over HTTP](https://docs.ipfs.tech/concepts/how-ipfs-works/#delegated-routing-over-http), [Bitswap](https://docs.ipfs.tech/concepts/how-ipfs-works/#bitswap-for-content-routing), [mDNS](https://docs.ipfs.tech/concepts/how-ipfs-works/#mdns) |
		  | Transferring data | [Bitswap](https://docs.ipfs.tech/concepts/how-ipfs-works/#bitswap-for-data-transfer), [HTTP Gateways](https://docs.ipfs.tech/concepts/how-ipfs-works/#ipfs-http-gateways), [Sneakernet](https://docs.ipfs.tech/concepts/how-ipfs-works/#sneakernet), Graphsync, more in development |
		  | Addressing for data and peers | [Multiformats](https://docs.ipfs.tech/concepts/how-ipfs-works/#content-identifier-cid) |
		  | Bridging between IPFS and HTTP | [IPFS Gateways](https://docs.ipfs.tech/concepts/how-ipfs-works/#ipfs-http-gateways), Pinning API Spec |
		  | Peer-to-peer connectivity | libp2p (TCP, QUIC, WebRTC, WebTransport) |
		  | Mutability and dynamic naming | IPNS (Interplanetary Naming System), DNSLink |
	-
	- ## How IPFS represents and addresses data
		- IPFS represents data as content-addressed blocks, and operates on those data blocks using the following subsystems:
			- [Content Identifier (CID)](https://docs.ipfs.tech/concepts/how-ipfs-works/#content-identifier-cid)
			- [InterPlanetary Linked Data (IPLD)](https://docs.ipfs.tech/concepts/how-ipfs-works/#interplanetary-linked-data-ipld)
			- [Content Addressable aRchive (CAR) files](https://docs.ipfs.tech/concepts/how-ipfs-works/#content-addressable-archive-car-files)
		- ### Content Identifier (CID)
			- In IPFS, data is chunked into blocks, which are assigned a unique identifier called a Content Identifier (CID). In general, the CID is computed by combining the hash of the data with its codec. The codec is generated using Multiformats.
			- CIDs are unique to the data from which they were computed, which provides IPFS with the following benefits:
				- Data can be fetched based on its content, rather than its location.
				- The CID of the data received can be computed and compared to the CID requested, to verify that the data is what was requested.
			- **Learn more** Learn more about the concepts behind CIDs described here with the [the CID deep dive](https://docs.ipfs.tech/concepts/content-addressing/#cid-versions).
		- ### InterPlanetary Linked Data (IPLD)
			- IPFS uses InterPlanetary Linked Data (IPLD) to work with CIDs and content-addressed data. IPFS uses IPLD to represent relationships between content-addressed data, such as file directories and other hierarchical structures, using a Directed Acyclic Graph (DAG) called a Merkle DAG. Using IPLD for the general functionality, IPFS is able provide a more tailored, specific mechanism for representing and addressing files, directories, and their symlinks, called [UnixFS](https://docs.ipfs.tech/concepts/file-systems/#unix-file-system-unixfs). With UnixFS, IPFS can chunk and link data too big to fit in a single block, and use the chunked representation to store and manage the data.
			- IPLD provides IPFS with the following benefits:
				- The ability to represent and work with arbitrary data, whether that data is standard files and directories, linked data, a Merkle DAG, or another data type.
				- Base functionality to structure, serialize, traverse and link content-addressed data, which can be leveraged by abstractions like UnixFS for more specific use cases.
				- Interoperable protocols.
				- Easy upgradeability.
				- Backwards compatibility.
			- **Learn more** Want to learn more about IPLD? See [the official docs](https://ipld.io/docs/intro/primer/)
			- [](https://ipld.io/docs/intro/primer/)
			- [(opens new window)](https://ipld.io/docs/intro/primer/).
		- ### Content Addressable aRchive (CAR) files
			- IPFS uses Content Addressable aRchive (CAR) files to store and transfer a serialized archive of IPLD content-addressed data. CAR files are similar to TAR files, in that they that are designed for storing collections of content addressed data.
	- ## How content routing works in IPFS
		- _Content routing_ refers to the way in which IPFS determines where to find a given CID on the network; specifically, which network peers are providing the CIDs you are requesting. In other words, a node cannot simply find data in the network with a CID alone; it requires information about the IP addresses and ports of its peers on the network. To route content, IPFS uses the following subsystems:
			- [Kademlia Distributed Hash Table (DHT)](https://docs.ipfs.tech/concepts/how-ipfs-works/#kademlia-distributed-hash-table-dht)
			- [Bitswap](https://docs.ipfs.tech/concepts/how-ipfs-works/#bitswap-for-content-routing)
			- [mDNS](https://docs.ipfs.tech/concepts/how-ipfs-works/#mdns)
			- [Delegated routing over HTTP](https://docs.ipfs.tech/concepts/how-ipfs-works/#delegated-routing-over-http)
		- ### Kademlia Distributed Hash Table (DHT)
			- IPFS uses Kademlia, a Distributed Hash Table (DHT) designed for decentralized peer-to-peer networks. Kademlia helps you find peers in the IPFS network storing the data you are seeking. The Kademlia DHT can be thought of as a large table distributed across many nodes that stores information about which peers (IPs) have which data (CIDs). Kademlia provides a highly efficient, self-organizing system that withstands node churn. Kademlia uses [libp2p](https://docs.ipfs.tech/concepts/libp2p/) to establish connectivity.
			- **Learn more**
			- Want to learn more about Kademlia and DHTs? See the [Distributed Hash Tables (DHTs) conceptual guide](https://docs.ipfs.tech/concepts/dht/#kademlia).
		- ### Bitswap (for content routing)
			- IPFS nodes use Bitswap, a message-based, peer-to-peer network protocol for the transfer of data, that is _also_ used for routing data. With Bitswap, an IPFS node can ask any of the peers that it is connected to if they have any of the CIDs that node is looking for, all without traversing the [Kademlia DHT](https://docs.ipfs.tech/concepts/how-ipfs-works/#kademlia-distributed-hash-table-dht). Peers also store wantlists, so that if a peer receives the requested data at a later time, it can then send it to the node that originally requested. Like Kademlia, Bitswap uses [libp2p](https://docs.ipfs.tech/concepts/libp2p/) to establish connectivity.
			- **Learn more**
			- Want to learn more about Bitswap? See the [Bitswap deep dive](https://docs.ipfs.tech/concepts/bitswap/).
		- ### Delegated routing over HTTP
			- Delegated content routing is a mechanism for IPFS implementations to use for offloading content routing to another process/server using an HTTP API. For example, if an IPFS node does not implement the DHT, a delegated router can search the DHT for peers on its behalf. The main benefit of delegated routing is that nodes are not required to implement routing functionality themselves if they do not have the computing resources to do so, or wish to build an IPFS system with a custom backend for routing. So, delegated routing over HTTPS provides IPFS nodes with a standard interface that allows more flexibility in terms of how content routing works.
			- **Learn more**
			- For further information, see the [Delegated Content Routing HTTP API spec](https://specs.ipfs.tech/ipips/ipip-0337/)
			- [](https://specs.ipfs.tech/ipips/ipip-0337/)
			- [(opens new window)](https://specs.ipfs.tech/ipips/ipip-0337/)..
		- ### mDNS
			- To quickly and efficiently discover peers in local networks, IPFS uses Multicast Domain Name System (mDNS), a type of DNS protocol that resolves human-readable internet domain names to IP names without the use of a name server.
			- The use of mDNS enables quick and efficient discovery of IPFS nodes in local networks without any coordination, e.g., without internet connectivity or access to [bootstrap nodes](https://docs.ipfs.tech/concepts/nodes/#bootstrap).
	- ## How IPFS transfers data
		- In addition to [routing data](https://docs.ipfs.tech/concepts/how-ipfs-works/#how-content-routing-works-in-ipfs), nodes in the IPFS network must efficiently distribute and deliver the content addressed data, taking into account that there are some nodes in the network who already have a copy of the data, and other nodes who do not have a copy of the data, but want one. To handle the transfer of data, IPFS uses the following subsystems:
			- [Bitswap](https://docs.ipfs.tech/concepts/how-ipfs-works/#bitswap-for-data-transfer)
			- [IPFS HTTP Gateways](https://docs.ipfs.tech/concepts/how-ipfs-works/#ipfs-http-gateways)
			- [Sneakernet](https://docs.ipfs.tech/concepts/how-ipfs-works/#sneakernet)
		- ### Bitswap (for data transfer)
			- As discussed in [How content routing works in IPFS](https://docs.ipfs.tech/concepts/how-ipfs-works/#bitswap-for-content-routing), IPFS nodes use Bitswap, a message-based, peer-to-peer network protocol for both content routing and the transfer of data. With Bitswap, any peers that an IPFS node is connected to can transfer requested blocks directly to that node without needing to traverse the [DHT](https://docs.ipfs.tech/concepts/how-ipfs-works/#kademlia-distributed-hash-table-dht). Peers also store wantlists, so that if a peer receives requested data at a later time, it can then transfer it to the node that originally requested.
			- **Learn more**
			- Want to learn more about Bitswap? See the [Bitswap deep dive](https://docs.ipfs.tech/concepts/bitswap/).
		- ### IPFS HTTP Gateways
			- HTTP Gateways allow applications that do not support or implement all IPFS subsystems to fetch data from the IPFS network using an HTTP interface. In its simplest form, a gateway is an IPFS Node that also exposes an [HTTP Gateway API](https://github.com/ipfs/specs/blob/main/http-gateways/README.md)
			- [](https://github.com/ipfs/specs/blob/main/http-gateways/README.md)
			- [(opens new window)](https://github.com/ipfs/specs/blob/main/http-gateways/README.md).
			- **Learn more**
			- Want to learn more about IPFS Gateways? See the [IPFS Gateway conceptual guide](https://docs.ipfs.tech/concepts/ipfs-gateway/).
		- ### Sneakernet
			- For use cases where transfer of data over a network connection is not an option, IPFS supports the use of sneakernet to transfer content-addressed data between IPFS nodes. Using IPFS, CAR files (discussed in [How IPFS represents and addresses data](https://docs.ipfs.tech/concepts/how-ipfs-works/#content-addressable-archive-car-files)) can be transferred between two network drives without any network connectivity. Because of IPFS, the data is [verifiable](https://docs.ipfs.tech/concepts/what-is-ipfs/#verifiability) and will have the same CID on both sides of the air gap.
	- ## Further reading
		- Are you looking for a deep dive into the design, architecture and theory of IPFS? See the [original IPFS whitepaper](https://docs.ipfs.tech/concepts/further-reading/academic-papers/#ipfs---content-addressed-versioned-p2p-file-system).
		- Dive deeper into the related concepts of [immutability](https://docs.ipfs.tech/concepts/immutability/), [hashing](https://docs.ipfs.tech/concepts/hashing/), [content-addressing and CIDs](https://docs.ipfs.tech/concepts/content-addressing/).
		- Learn about [IPFS pinning, along with the differences between persistence, permanence, and pinning](https://docs.ipfs.tech/concepts/persistence/).
		- Understand [privacy and encryption in IPFS](https://docs.ipfs.tech/concepts/privacy-and-encryption/).
		- Learn more about [IPFS nodes, including the different types](https://docs.ipfs.tech/concepts/nodes/).